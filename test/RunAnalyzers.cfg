process TEST =
{

include "RecoMET/Configuration/data/CaloTowersOptForMET.cff"
include "RecoMET/Configuration/data/RecoMET.cff"
include "RecoMET/Configuration/data/RecoHTMET.cff"
include "RecoMET/Configuration/data/RecoGenMET.cff"
include "RecoMET/Configuration/data/GenMETParticles.cff"
include "RecoJets/Configuration/data/CaloTowersRec.cff"

include "Validation/RecoMET/data/CaloMET.cff"
include "Validation/RecoMET/data/GenMET.cff"
include "Validation/RecoMET/data/HTMET.cff"
include "Validation/RecoMET/data/GenMETFromGenJets.cff"
include "Validation/RecoMET/data/caloTowers.cff"
include "Validation/RecoMET/data/RecHits.cff"

    service = MessageLogger {
                      untracked vstring destinations = {"warning.txt","error.txt","stndoutput.txt"}
                      untracked PSet warning.txt     = { untracked string threshold = "WARNING" }
                      untracked PSet error.txt       = { untracked string threshold = "ERROR"   }
                      untracked PSet stndoutput.txt  = { untracked string threshold = "INFO"    }

                      untracked vstring fwkJobReports = {"FrameworkJobReport.xml"}
                      untracked vstring categories = { "FwkJob" }
                      untracked PSet FrameworkJobReport.xml = {
                                                untracked PSet default = { untracked int32 limit = 0 }
                                                untracked PSet FwkJob = { untracked int32 limit = 10000000 }
                                          }
                           }



  service = DQMStore{ }
  untracked PSet maxEvents = {untracked int32 input = -1}
  source = PoolSource
  {
      untracked vstring fileNames = {
#            '/store/RelVal/2007/9/29/RelVal-RelValQCD_Pt_30_50-1191090129/0001/1C885BB3-096F-DC11-8A5D-000423D6A77C.root'
#'/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/045D2CA8-91F0-DC11-AD70-001617DBD230.root'        
# '/store/relval/2008/3/13/RelVal-RelValMinbias-1205444401/0000/2A5B86B4-60F1-DC11-97CD-001617C3B6FE.root',
#'/store/relval/2008/3/13/RelVal-RelValMinbias-1205444401/0000/364319B1-69F1-DC11-8E61-000423D6B444.root',
#'/store/relval/2008/3/13/RelVal-RelValMinbias-1205444401/0000/64EDB5C1-A7F1-DC11-8702-000423D9939C.root',
#'/store/relval/2008/3/13/RelVal-RelValMinbias-1205444401/0000/70B01265-6AF1-DC11-A69C-000423D6CA6E.root'  
#'/store/relval/2008/3/19/RelVal-RelValQCD_Pt_120_170-1205894772/0000/186FF82C-E3F5-DC11-A5C1-001617E30CD4.root' 
#'/store/relval/2008/3/19/RelVal-RelValZMUMU-1205894772-HLT/0000/0A5C7078-18F6-DC11-B01A-001617E30CD4.root' 
'/store/relval/2008/3/20/RelVal-RelValQCD_Pt_120_170-1205894772-HLT/0000/0017449E-2CF6-DC11-BB8D-001617C3B6FE.root' 
   }

    untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true
  }


 #   include "Validation/RecoMET/data/RelVal_data/MaxEvents.cfi"

# Geometry - overkill, used for test/completeness  #
# includes Sim, Digi & Reco files as far
 #            as I can tell.

 #   include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

#    include "Geometry/CaloEventSetup/test/data/testCaloConfiguration.cfi"

 # Magnetic field full setup

    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

 # Calo geometry service model
    include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"

 # Ecal TT mapping
 #   include "Geometry/CaloEventSetup/data/EcalTrigTowerConstituents.cfi"

  module fileSaver = METFileSaver      
  {                                                            
        untracked string OutputFile = "RecoMET_RelVal.root"      
  }      

#  path pReco = { genMETParticles, recoGenMET, metreco }
#  path pReco = { caloTowersMETOptRec }
	
#  path pAna = {analyzeRecHits, analyzecaloTowers, analyzeGenMET, analyzeGenMETFromGenJets, analyzeHTMET, analyzeCaloMET}
#  path pAna = {analyzeRecHits, analyzecaloTowers, analyzeGenMET, analyzeGenMETFromGenJets, analyzeHTMET, analyzeCaloMET}
#  path pAna = { analyzecaloTowers}
  path pAna = { fileSaver,  caloTowers, analyzecaloTowers, analyzeCaloMET}
  schedule = { pAna}
 # schedule = {  pAna }
}
