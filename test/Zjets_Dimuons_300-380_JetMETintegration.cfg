# File: Zjets_Dimuons_300-380_JetMETintegration.cfg
# Author: R. Cavanaugh (Originally adapted from: R. Harris)
# Date: 11.16.2006
#
# JetMET integration testing file for 700 GeV Z prime decaying to dijets.
# Reconstruction for Jets and MET only.
#

process PROD  = {

   # initialize MessageLogger
   include "FWCore/MessageLogger/data/MessageLogger.cfi"

   service = Timing {}


   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 135799753
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 123456789
         untracked uint32 g4SimHits = 9876
      }
   }

source = PythiaSource 
{ 
   untracked int32 maxEvents = 1
   untracked int32 pythiaPylistVerbosity = 0
   untracked bool pythiaHepMCVerbosity = false
   untracked int32 maxEventsToPrint = 0
   PSet PythiaParameters = 
   {
      vstring parameterSets = 
      {
         "pythiaUESettings", 
         "processParameters"
      }
      include "Configuration/Generator/data/PythiaUESettings.cfi"
      vstring processParameters = 
      {
         'MSEL=0',
         'MSUB(15)= 1          ! qZ',
         'MSUB(30)= 1          ! gZ',
         'MDME(174,1)=0        !Z decay into d dbar',        
         'MDME(175,1)=0        !Z decay into u ubar',
         'MDME(176,1)=0        !Z decay into s sbar',
         'MDME(177,1)=0        !Z decay into c cbar',
         'MDME(178,1)=0        !Z decay into b bbar',
         'MDME(179,1)=0        !Z decay into t tbar',
         'MDME(182,1)=0        !Z decay into e- e+',
         'MDME(183,1)=0        !Z decay into nu_e nu_ebar',
         'MDME(184,1)=1        !Z decay into mu- mu+',
         'MDME(185,1)=0        !Z decay into nu_mu nu_mubar',
         'MDME(186,1)=0        !Z decay into tau- tau+',
         'MDME(187,1)=0        !Z decay into nu_tau nu_taubar',
         'CKIN(3)=300.      !minimum pt hat for hard interactions',
         'CKIN(4)=380.      !maximum pt hat for hard interactions'    
      }
   }
}

include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"
sequence generator = {VtxSmeared}


  replace PythiaSource.maxEvents = 1
  include "Configuration/JetMET/data/calorimetry-simulation.cff"
  include "Configuration/JetMET/data/calorimetry-digitization.cff"
  include "Configuration/JetMET/data/calorimetry-reconstruction.cff"
  include "Configuration/JetMET/data/calorimetry-caltowers.cff"
  include "Configuration/JetMET/data/calorimetry-jetmet.cff"
  include "Configuration/JetMET/data/calorimetry-jetmet-gen.cff"
  include "Configuration/JetMET/data/calorimetry-jetmetcorrections.cff"

   module GEN-SIM-DIGI = PoolOutputModule
   {
      untracked string fileName = "evtgen_detsim_digi.root"
   }

   module CAL-JETS = PoolOutputModule {
   untracked string fileName = 'evtgen_jetmet.root'
   untracked vstring outputCommands = 
     {
      "keep *",
      "drop *_muonCSCDigis_*_*",
      "drop *_muonDTDigis_*_*",
      "drop *_siStripDigis_*_*",
      "drop *_siPixelDigis_*_*",
      "drop *_hcalDigis_*_*",
      "drop *_ecalUnsuppressedDigis_*_*",
      "drop *_g4SimHits_*_*"
      }
   } 


  path p1 = {generator, simulation, caloDigi, caloReco, caloTowersRec, caloJetMet, caloJetMetGen, caloJetMetCorrections}
  endpath outpath = { GEN-SIM-DIGI, CAL-JETS }
}
