process TEST =
{
#  include "Configuration/Examples/data/DIGI.cff"
#  include "RecoMET/METProducers/test/CaloCandidatesFromDigis.cfi"
#  include "RecoMET/METProducers/test/CaloCandidatesFromRecHits.cfi"
  include "RecoMET/METProducers/data/CaloMET.cfi"
  include "RecoMET/Configuration/data/GenMETParticles.cff"
  include "RecoMET/METProducers/data/genMet.cfi"


  service = DaqMonitorROOTBackEnd{ }
  source = PoolSource
  {
      untracked vstring fileNames = {
            '/store/RelVal/2007/9/29/RelVal-RelValQCD_Pt_30_50-1191090129/0001/1C885BB3-096F-DC11-8A5D-000423D6A77C.root'
      }

    untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true
  }

 #   include "Validation/RecoMET/data/RelVal_data/MaxEvents.cfi"

# Geometry - overkill, used for test/completeness  #
# includes Sim, Digi & Reco files as far
 #            as I can tell.

 #   include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

    include "Geometry/CaloEventSetup/test/data/testCaloConfiguration.cfi"

 # Magnetic field full setup

    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

 # Calo geometry service model
    include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"

 # Ecal TT mapping
    include "Geometry/CaloEventSetup/data/EcalTrigTowerConstituents.cfi"


  module AnalyzeTowers = CaloTowerAnalyzer{
       untracked string OutputFile = 'CaloTowerAnalyzer_data.root'
       untracked string GeometryFile = 'CaloTowerAnalyzer_geometry.dat'
       string CaloTowersLabel  = 'caloTowers'
       bool DumpGeometry = false
       bool Debug = false
  }

  module AnalyzeECAL = ECALRecHitAnalyzer{
       untracked string OutputFile = 'ECALRecHitAnalyzer_data.root'
       untracked string GeometryFile = 'ECALRecHitAnalyzer_geometry.dat'
       string ECALRecHitsLabel  = 'ecalRecHit'
       string EERecHitsLabel  = 'EcalRecHitsEE'
       string EBRecHitsLabel  = 'EcalRecHitsEB'
       bool DumpGeometry = false
       bool Debug = false
  }

  module AnalyzeHCAL = HCALRecHitAnalyzer{
       untracked string OutputFile = 'HCALRecHitAnalyzer_data.root'
       untracked string GeometryFile = 'HCALRecHitAnalyzer_geometry.dat'
       string HBHERecHitsLabel  = 'hbhereco'
       string HORecHitsLabel  = 'horeco'
       string HFRecHitsLabel  = 'hfreco'
       bool DumpGeometry = false
       bool Debug = false

  }
  module Dumper = DumpEvent{
       untracked string OutputFile = 'HCALRecHitAnalyzer_data.root'
       string CaloJetsLabel = 'iterativeCone5CaloJets'
       string MuonsLabel = 'globalMuons'
       string ElectronsLabel = 'pixelMatchElectrons'
       string PhotonsLabel = 'photons'
       string CaloMETLabel = 'met'
       string GenMETLabel = 'genMet'
       string EndcapSCLabel = 'correctedIslandEndcapSuperClusters'
       string BarrelSCLabel = 'correctedHybridSuperClusters'

       bool Debug = true
       bool DoJets = true
       bool DoElectrons = true
       bool DoPhotons = true
       bool DoMET = true
       bool DoSCs = true
}

  module metAnalyzer = METTester
  {
     string InputGenMETLabel  = 'genMet'
     string InputCaloMETLabel = 'met'
     untracked string OutputFile = 'METTester_data.root'
  }

  path p = {metAnalyzer}
  schedule = { p }
}
